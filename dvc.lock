schema: '2.0'
stages:
  pca:
    cmd: python src/pca.py
    deps:
    - path: data/winequalityN.csv
      hash: md5
      md5: d1088fe0cd8f22710ec202dcf4d9ba97
      size: 390376
    - path: src/config.py
      hash: md5
      md5: 6079850f531abb452412e94dd571c715
      size: 222
    - path: src/pca.py
      hash: md5
      md5: e815db9925b7d294b18e931a96bb2652
      size: 2677
    params:
      params.yaml:
        pca:
          k_red: 8
          k_white: 8
          test_size: 0.2
    outs:
    - path: data/red_pca_x.csv
      hash: md5
      md5: de800b2b8e7073834f66ea8bb14ed1ff
      size: 259775
    - path: data/red_pca_y.csv
      hash: md5
      md5: ef3f3cdb831c4ca3908882ae83c13518
      size: 16578
    - path: data/white_pca_x.csv
      hash: md5
      md5: 99ae30464be4be7f15bf43064707fa8a
      size: 793511
    - path: data/white_pca_y.csv
      hash: md5
      md5: bd76ad2dff0e8469e07a80cac1165dc9
      size: 53362
  sgd_classifier:
    cmd: python src/sgd_classifier.py
    deps:
    - path: data/red_pca_x.csv
      hash: md5
      md5: de800b2b8e7073834f66ea8bb14ed1ff
      size: 259775
    - path: data/red_pca_y.csv
      hash: md5
      md5: ef3f3cdb831c4ca3908882ae83c13518
      size: 16578
    - path: data/white_pca_x.csv
      hash: md5
      md5: 99ae30464be4be7f15bf43064707fa8a
      size: 793511
    - path: data/white_pca_y.csv
      hash: md5
      md5: bd76ad2dff0e8469e07a80cac1165dc9
      size: 53362
    params:
      params.yaml:
        sgd_classifier:
          loss: log_loss
          alpha: 0.001
          penalty: l2
          max_iter: 1500
          test_size: 0.2
    outs:
    - path: plots/confusion_red.png
      hash: md5
      md5: 01fea6736fc308581c41c972e012be68
      size: 26080
    - path: plots/confusion_white.png
      hash: md5
      md5: 48784ac4aa53c6fb11d4f5626f905f2a
      size: 28321
